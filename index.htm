<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Редактор виджета ВК сообщества</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<link rel="stylesheet" href="style.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/javascript/javascript.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/addon/edit/matchbrackets.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/addon/edit/closebrackets.min.js"></script>

<script src="https://vk.com/js/api/openapi.js" type="text/javascript"></script>
</head>
<body>

<div class="error-bar" id="vk-alerts">
  <div class="error-log"></div>
  <button id="clearErrorsBtn" title="Очистить"><i class="fa fa-trash"></i></button>
</div>

<div class="container">
  <div class="header"><h1>Редактор виджета ВК сообщества</h1></div>
  <div class="toolbar">
    <div class="toolbar-left">
      <button id="undoBtn" title="Undo"><i class="fa fa-arrow-left"></i></button>
      <button id="redoBtn" title="Redo"><i class="fa fa-arrow-right"></i></button>
      <select id="widget-type">
        <option value="text">Text</option>
        <option value="list">List</option>
        <option value="table">Table</option>
        <option value="tiles">Tiles</option>
        <option value="compact_list">Compact list</option>
        <option value="cover_list">Cover list</option>
        <option value="match">Match</option>
        <option value="matches">Matches</option>
        <option value="donation">Donation</option>
      </select>
    </div>

    <div class="toolbar-center">
      <button id="snippetBtn" title="Random Snippet"><i class="fa fa-dice"></i></button>
      <button id="templateBtn" title="Шаблон"><i class="fa fa-file-code"></i></button>
      <button id="formatBtn" title="Форматировать"><i class="fa fa-brush"></i></button>
    </div>

    <div class="toolbar-right">
      <button id="btn-permission" title="Настройки прав"><i class="fa fa-users-cog"></i></button>
      <button id="previewBtn" title="Предпросмотр"><i class="fa fa-eye"></i></button>
    </div>
  </div>

  <textarea id="editor"></textarea>

  <div class="links">
    <a href="https://dev.vk.com/ru/api/community-apps-widgets/getting-started" target="_blank">Документация виджетов</a> |
    <a href="https://dev.vk.com/ru/method/execute" target="_blank">VKScript</a> |
    <a href="https://vk.ru/cc" target="_blank">VK CC</a>
  </div>

  <div class="hint">
    Через <a href="https://vk.ru/cc" target="_blank">VK CC</a> можно сокращать ссылки на внешние ресурсы и использовать их в виджетах.
  </div> 
  <div class="creator">
  <p>Автор: <a href="https://vk.com/super.volodya" target="_blank">Володя Савкин</a></p>
</div>
</div>

<script src="widget-editor.js"></script>

<!-- VK scripts -->
<script src="https://vk.com/js/api/xd_connection.js" type="text/javascript"></script>
<script type="text/javascript">
VK.init(
  function() {
    console.log('VK API ready');
    onReady();
  },
  function() {
    console.error('VK init failed', arguments);
  },
  '5.131',
  { apiId: 7100465 }
);

</script>
<!-- /VK scripts -->

</body>
</html>
